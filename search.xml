<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>兰花协议白皮书(4): Orchid市场设计</title>
      <link href="/2019/12/13/%E5%85%B0%E8%8A%B1%E5%8D%8F%E8%AE%AE%E7%99%BD%E7%9A%AE%E4%B9%A6-4-Orchid%E5%B8%82%E5%9C%BA%E8%AE%BE%E8%AE%A1/"/>
      <url>/2019/12/13/%E5%85%B0%E8%8A%B1%E5%8D%8F%E8%AE%AE%E7%99%BD%E7%9A%AE%E4%B9%A6-4-Orchid%E5%B8%82%E5%9C%BA%E8%AE%BE%E8%AE%A1/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/muzhix" target="_blank" rel="noopener">牧之</a>翻译<a href="https://github.com/muzhix" target="_blank" rel="noopener">https://github.com/muzhix</a></p><p>转载请注明出处<a href="https://hanbd.me/tags/Orchid/">https://hanbd.me/tags/Orchid/</a></p><p><a href="https://www.orchid.com/assets/whitepaper/whitepaper.pdf" target="_blank" rel="noopener">英文原版白皮书 PDF下载</a></p></blockquote><h2 id="4-Orchid市场设计"><a href="#4-Orchid市场设计" class="headerlink" title="4.Orchid市场设计"></a>4.Orchid市场设计</h2><p>兰花市场是一个分散的点对点(P2P)网络，它允许运行兰花客户端的用户从一个或多个运行兰花服务器的卖家那里购买带宽，以形成一个到互联网上特定资源（如网站）的代理路由。</p><p>Orchid市场的主要参与者：</p><ul><li>启动代理连接的运行Orchid客户机的用户（user）</li><li>（可选）转发加密通信的一个或多个中继节点（relay node）</li><li>提供到外部目的地(如网站)的最终连接的出口节点（exit node）</li><li>接受纳米支付流量的带宽销售商（bandwidth seller）(无论是中继还是出口)</li></ul><p>带宽销售商在以太坊区块链上注册他们的节点，用户客户端通过调用以太坊智能合约选择合适的节点来路由。Orchid使用质押加权:销售者将OXT令牌锁起来，形成与节点相关联的股份存款，以便按其相对股份的比例接收流量。</p><h3 id="4-1基本操作"><a href="#4-1基本操作" class="headerlink" title="4.1基本操作"></a>4.1基本操作</h3><p>在高层次上，兰花市场提供以下关键操作：</p><ul><li>带宽销售商通过质押来注册他们的节点的方法</li><li>带宽销售商注册自定义服务和元数据的方法</li><li>客户端使用定制提供的服务和元数据查询节点的方法</li><li>选择随机节点的方法，其概率与质押成正比，（对于节点X，桩大小S，乘数常数 a）：</li></ul><p>$$<br>P(select(X) | stake(X)=\alpha S) =\alpha P(select(X) | stake(X) = S)<br>$$</p><p>西比尔正交性（Sybil Orthogonality）需要一个线性选择属性，以确保攻击者将其资源分割成多个子帐户时，不会在选择概率和单位时间内预期的连接请求中获得优势；因此，西比尔攻击没有任何好处。根据这个线性加权选择性质，攻击者的总质押为A，系统质押总量为S，那么随机选择的节点不是攻击者所有节点的概率为：<br>$$<br>P(select(not Attacker))=1-\frac{A}{S}<br>$$<br>使用质押加权（stake-weighting）允许兰花网络的经济安全与质押总量成线性关系,总质押预计将占OXT总量相当大一部分(质押（stake）经济将在下面的4.5节进行更详细的分析)。质押加权选择使用链上的一个树结构描述实现（4.3节），允许客户端以可伸缩的、无信任的方式将节点的选择外包给其他节点，避免轻量级客户端下载、存储或处理整个节点目录。</p><h3 id="4-2节点目录（Node-Directory）"><a href="#4-2节点目录（Node-Directory）" class="headerlink" title="4.2节点目录（Node Directory）"></a>4.2节点目录（Node Directory）</h3><p>Orchid节点目录是存储在以太坊上的一组数据结构，它允许客户端有效地选择带宽卖方节点。本质上它在以太坊网络上形成一个简单的Orchid特异性覆盖；节点目录合约提供了一些主要功能：</p><ul><li><code>push</code>：将可变数量的OXT质押至特定<em>stakee</em>，添加到一个现有项或新增一条质押项，键值对格式为（staker，<em>stakee</em>）。push函数还接受一个延迟参数，该参数将决定随后的提取锁定期。</li><li><code>pull</code>：从现有质押项中提取可变数量的OXT。</li><li><code>take</code>：在提款延迟期后，将<code>pull</code>得到的OXT转至钱余额。</li><li><code>scan</code>：在给定随机种子参数的情况下，用相对质押（relative stake）加权选择随机节点</li></ul><h4 id="节点元数据注册中心（Node-Metadata-Registry）"><a href="#节点元数据注册中心（Node-Metadata-Registry）" class="headerlink" title="节点元数据注册中心（Node Metadata Registry）"></a>节点元数据注册中心（Node Metadata Registry）</h4><p>节点元数据注册表允许任何人使用元数据“标记”节点。带宽销售商可以使用它在区块链上存储与他们的节点相关联的自定义元数据，并为服务做广告，这仅仅受到以太坊交易费用的限制。元数据注册中心是通用的，它为将来的定制扩展提供了一种简单的方法，允许节点操作人员发布新的服务，客户端可以在不进行代码更新的情况下选择这些服务。</p><h4 id="节点目录树（Node-Directory-Tree）"><a href="#节点目录树（Node-Directory-Tree）" class="headerlink" title="节点目录树（Node Directory Tree）"></a>节点目录树（Node Directory Tree）</h4><p>为了有效地实现扫描功能，我们使用了链上二叉加权树数据结构。除了树指针和左右子树的小计外，树中的每个节点都是一个质押条目，它存储一个<em>stakee</em>、一个金额和一个延迟时间。这种结构有效地在所有的质押上形成一个前缀和树，允许在每个节点上进行一个简单的下降决策来找到包含给定随机值的子树(或节点)；找到包含给定随机点的精确节点间隔只需要对数步长（<em>译者注：时间复杂度O(log)</em>）。</p><h4 id="提现延迟（Withdrawal-Delay）"><a href="#提现延迟（Withdrawal-Delay）" class="headerlink" title="提现延迟（Withdrawal Delay）"></a>提现延迟（Withdrawal Delay）</h4><p>延迟提款是一个重要的安全限制。它为试图获取大部分Orchid用户连接请求的攻击者设置了障碍。我们尤其关注的是系统性收购攻击（systemic takeover attack）,即当攻击者的质押量占到了总质押量的一个较大比例时，攻击者将用户引导至恶意服务器，故意提供较差的连接，记录和报告流量，或尝试主动连接攻击(如SSL降级)。</p><p>与股权证明(PoS，proof -of-stake)加密货币类似，我们抵御系统性收购攻击的主要屏障是获取和锁定OXT大部分股权的高成本障碍。如果不延迟提取，这一障碍就会变成获得充足流动性的渠道之一，而攻击的实际净成本就会很小。成功的攻击还将破坏网络并可能降低OXT的价值。因此，当攻击者最终结束攻击并出售其庞大数量的OXT，足够长的提款延迟更有可能给攻击者带来额外的损失。</p><p>尽管其潜在的机制有很大的不同，但在Orchid系统中，具有短提现延迟的系统攻击类似于工作证明(PoW)区块链系统中的租用攻击（rebtal attacks）。像Nicehash这样的哈希算力（hashpower）租赁服务的兴起，提供了大量的算力流动性，极大地降低了在PoW系统中进行51%算力攻击的成本。攻击者已经使用算力对许多较小的代币进行了双消费攻击（double-spending attacks），甚至连排名前20的以太坊经典(Ethereum Classic)也在2019年初被成功攻击。</p><p>理想的提现延迟应该比我们预期的市场发现和应对系统性收购攻击所需的时间更长。但更长的提现延迟也会给那些想要退出股权质押的诚实的带宽卖家带来不利影响。这两个约束条件之间的理想折衷很难进行先验估计，因此我们选择将提取延迟作为一个灵活的参数。然后客户端软件过滤提现延迟，忽略提现延迟低于客户端阈值的节点。我们的初始客户软件将接受3个月或更长时间的提现延迟，同时，灵活的参数化允许将来的客户机更改这个参数，避免硬fork和相关的协调困难。</p><h3 id="4-3节点选择（Node-Selection）"><a href="#4-3节点选择（Node-Selection）" class="headerlink" title="4.3节点选择（Node Selection）"></a>4.3节点选择（Node Selection）</h3><p>节点选择分两步，第一步为随机相对加权线性选择，第二步为二次约束过滤。第一阶段的线性选择由节点目录树的扫描函数（scan）执行。客户机在本地生成一个随机值，并将其作为要扫描的单个参数传入，然后向下传递节点目录树。搜索终止于唯一的叶子结点或符合条件的内部结点。</p><p>使用智能契约来实现主节点扫描功能，可以轻松地将选择过程外包给节点。客户端可以请求一个或多个扫描调用，并让一个远程节点在本地执行每次扫描，然后使用以太坊JSON RPC API的<code>eth_getProof</code>和<code>eth_getStorageAt</code>函数返回其正确性的简单证明。这种机制确保客户端可以证明节点没有恶意选择他们自己或一个别名，并返回相同的结果，就好像客户端已经在他们自己的以太坊的完整副本上执行了该函数一样。外包扫描功能允许轻量级的Orchid客户端实现。</p><p>在基于线性相对权值选择一个或多个节点之后，客户端可以根据一些额外的标准进行筛选，比如出口地理位置、延迟/ping、节点白名单或自定义元数据标记。（译者注:两步节点选择的第二步）</p><h4 id="地理位置（Geolocation）"><a href="#地理位置（Geolocation）" class="headerlink" title="地理位置（Geolocation）"></a>地理位置（Geolocation）</h4><p>目前，VPN的一个流行用例是绕过基于地理位置的内容过滤。流媒体服务，例如Netflix通过检测用户的IP地址来执行特定国家的内容许可。因此，位于正确位置的VPN或出口服务器可以允许访问被封锁的内容。</p><p>很难证明特定的IP地址对应特定的位置。此外，客户端连接到的最终服务器可能具有与目录合约中列出的IP地址不同的IP地址，这是有正当理由的：大型宽带提供商可能将客户链接重定向至代理服务器以实现负载平衡。出于这些考虑，对特定出口地理位置感兴趣的Orchid客户端可以使用发布的节点元数据来过滤声明的地理位置，但最终必须检查最后的退出连接是否实际位于请求的位置。通过使用公共IP地址到地理位置数据库，可以在一定程度上实现这种检查的自动化。</p><h4 id="时延（Latency）"><a href="#时延（Latency）" class="headerlink" title="时延（Latency）"></a>时延（Latency）</h4><p>我们预计，在某些用例中，用户希望连接的延迟比随机选择的节点低。客户端可以采用类似于地理定位的延迟猜测和检查策略。最终，在构建路由之后，必须度量实际的延迟。如果延迟高于目标阈值，则必须对新的不同路由进行采样。Orchid路由和nanopayments的轻量级特性允许快速路由调整和并行路由测试。</p><h4 id="价格（Price）"><a href="#价格（Price）" class="headerlink" title="价格（Price）"></a>价格（Price）</h4><p>在卖家设定自己的带宽价格时，客户必须能够确定合理的价格水平，以避免过高的收费。Orchid客户端使用可定制的预算算法，根据用户的余额和其他参数(比如表示预算应该持续多长时间的目标时间轴)来确定当前的支出上限。例如，用户可以将价值50美元的OXT装入他们的nanopayment钱包，并指示客户端将这笔钱在一年的带宽购买预算中支出。然后客户端软件使用这个预算来确定一段时间内支付的限额。如果客户端支付的带宽费用低于服务器对客户端使用的带宽所收取的费用，服务器将限制他们的连接。如果调节的吞吐量低到不能接受的程度，客户端将选择一个新的提供者。因此，价格形成了一个隐式过滤器，过滤掉与客户当前使用情况和预算支出率不兼容的带宽价格节点。</p><h4 id="白名单（Whitelists）"><a href="#白名单（Whitelists）" class="headerlink" title="白名单（Whitelists）"></a>白名单（Whitelists）</h4><p>Orchid客户端可以使用链上管理的列表，该列表将可行的节点过滤到自定义子集。正式的Orchid客户端的初始版本将使用白名单（由受信任的VPN节点组成的默认出口节点白名单）来防止来自恶意退出节点的攻击(例如，SSL降级攻击)。自定义Orchid客户端可以使用他们自己的白名单，最终希望有受信任的第三方来管理白名单。白名单是引入外部信誉信任的一种简单方法，以补充由股份质押提供的基于经济激励的信任。</p><h4 id="自定义元数据标签（Custom-Metadata-Tags）"><a href="#自定义元数据标签（Custom-Metadata-Tags）" class="headerlink" title="自定义元数据标签（Custom Metadata Tags）"></a>自定义元数据标签（Custom Metadata Tags）</h4><p>带宽销售商可以使用节点元数据注册表在区块链上存储与其节点关联的任意元数据标记。将来，销售者可以用它来宣传新的定制服务（比如未共享的IP地址）。然后，客户端通过标记筛选查找提供该服务的节点。虚假广告的卖家（不提供所宣传的服务）有被从白名单中除名的风险。</p><h3 id="4-4-股份权重选择（Selection-of-Stake-weighting）"><a href="#4-4-股份权重选择（Selection-of-Stake-weighting）" class="headerlink" title="4.4 股份权重选择（Selection of Stake-weighting）"></a>4.4 股份权重选择（Selection of Stake-weighting）</h3><p>Orchid 0.9.2提出了一种以工作证明（Pow）奖章为主的抗Sybil机制的设计，并明确反对股权证明（PoS）。在本节中，我们将股份加权与其他替代方法进行对比，并分析采用类似于股权证明的风险加权方法的原因。</p><h4 id="前言：攻击成本"><a href="#前言：攻击成本" class="headerlink" title="前言：攻击成本"></a>前言：攻击成本</h4><p>与比特币、以太坊和其他大多数去中心化系统一样，Orchid是一个由开源软件构建的开放网络；任何人都可以下载Orchid节点软件，并在资源允许的情况下运行尽可能多的节点。在一个开放的、分散的系统中，对系统攻击的可行防御最终是经济层面的防御：如果攻击者的攻击成本超过了攻击者的收益，或者攻击成本太高而无法执行，那么系统安全就能得到保障。</p><p>我们可以把经济安全划分为绝对约束和相对约束。相对经济安全是指不管需要多少资源，攻击都是<strong>无利可图</strong>的。比特币目前拥有数百亿美元的绝对经济安全。一个小规模的新加密货币几乎没有绝对的安全性，但仍然可以依靠足够的相对安全性来阻止大多数现实的攻击者。</p><h4 id="工作量证明（Proof-of-Work）TODO"><a href="#工作量证明（Proof-of-Work）TODO" class="headerlink" title="工作量证明（Proof-of-Work）TODO"></a>工作量证明（Proof-of-Work）TODO</h4><p>工作量证明系统的安全性来自于为证明系统中的有效身份而必须消耗的算力。Orchid 0.9.2的设计使用了需要连续工作证明才能保持当前活动状态的奖章（medallions），奖章基于以太坊块的种子计算。因此，这种机制与比特币等工作量证明（PoW）区块链系统非常相似。</p><p>我们假设工作证明的设计不是抗集成电路的（ASIC-resistant）（即专用芯片比普通芯片的效率要高得多），并且假设这些专用芯片没有明显的租赁市场。可以推导出证明系统的经济安全约束近似为：<br>$$<br>NC &gt; V_{sabotage}<br>$$<br>这里<strong><em>N</em></strong>表示总的诚实(非攻击者)算力，<strong><em>C</em></strong>为单位算力（hashpower）的资本成本，<strong><em>V</em></strong>是攻击者从系统破坏中获得的价值。等式的左边是攻击成本，即绝对安全屏障。</p><p>截至2019年年中，比特币的<strong><em>N C</em></strong>值达到数百亿美元。比特币的工作量证明规范不是抗ASIC的，因此，ASIC芯片由于比可重新使用的通用芯片效率高几个数量级而占据主导地位。另一方面，以太坊有意设计了一个ASIC的工作量证明规范。因此，ASIC相对于GPU的优势非常小，因此GPU一直主导着以太坊挖矿。GPU存在流动的租赁市场，因此，攻击者只需要在攻击期间支付算力的租用成本。如果我们忽略攻击者在攻击期间获得的挖矿奖励，对于花费<strong><em>t</em></strong>个时间单位的租赁性攻击，<strong><em>c</em></strong>为单位时间单位算力租赁成本，其经济安全约束大约为：<br>$$<br>tNc&gt;V_{sabotage}<br>$$<br>由于攻击所需的时间<strong><em>t</em></strong>通常比硬件的折旧时间要短几个数量级，因此租用场景会导致经济安全性显著降低。Orchid 0.9.2中使用的奖章工作量证明故意使用<strong>equihash</strong>，这是一种抗ASIC的方案。这在一定程度上是必要的，因为必须由终端用户生成勋章，其中许多终端用户只有手机级别的硬件（<em>译者注：所以要使用抗ASIC方案</em>）。一个ASIC友好（ASIC-friendly）的工作证明算法将为攻击者提供巨大的相对优势（与手机用户相比）。不幸的是，使用抗ASIC算法存在租赁市场的流动性条件，从而降低了上述公式的安全性。</p><p>用于工作量证明的算力被浪费掉了，因此某种意义上讲，相对于系统提供的带宽而言，算力的浪费是一种负担。单位时间的收益<strong><em>P</em></strong>，等于带宽成本<strong><em>B</em></strong>，加上维持证明所需隐含算力成本<strong><em>N c</em></strong>:<br>$$<br>P=B+Nc<br>$$<br>经济上的考虑限制了<strong><em>N c</em></strong>和<strong><em>B</em></strong>不在同一量级（<strong><em>N c</em></strong>应远小于<strong><em>B</em></strong>，即算力成本只能占很小比例），否则使用Orichid的成本对于消费者来说就太高了。将上式代入之前的式子，可得安全条件为：<br>$$<br> t(P-B)&gt;V_{sabotage}<br>$$<br>考虑这样一个场景：Orchid有100万用户，每个用户每年总共支付大约63美元(批发带宽成本加上隐式的工作证明计算成本)，并假设工作量证明开销大约是成本的50%。因此，<strong><em>P - B</em></strong>（公式中的）项大约是每秒1美元。攻击者只需花费约3600美元租用算力，就可以在一小时内捕获约一半的兰花流量，或者花费约86,400美元算力，就可以在一天内捕获约一半的兰花流量。</p><h4 id="股份加权（Stake-Weighting）"><a href="#股份加权（Stake-Weighting）" class="headerlink" title="股份加权（Stake-Weighting）"></a>股份加权（Stake-Weighting）</h4><p>在我们目前的股份加权方法中，带宽销售商在锁定的存款中持有OXT货币，以证明身份，并根据相对的存款规模获得流量。首先，我们将假设，没有一个市场可以借到足够的OXT来发起攻击。要获得50%以上Orchid流量的控制权，攻击者所质押的OXT数量需要大于等于其他非攻击者所质押的OXT（即攻击者质押的代币要占到总质押的50%以上）。一次成功的攻击将会导致OXT贬值，因此攻击的主要代价是质押的OXT代币贬值。如果<strong><em>S</em></strong>是全部诚实(非攻击者)的股份质押，x是攻击后OXT的贬值比例（百分比,负值），可得到相对安全条件为：<br>$$<br>-x_dS&gt;V_{sabotage}<br>$$<br>攻击成本和绝对安全屏障为<strong><em>S</em></strong>(质押值)，因为攻击者需要花费<strong><em>S</em></strong>量级的资金来执行攻击。我们可以预期带宽销售商将学会根据市场条件增加或减少他们的股份质押，以优化总盈利能力。带宽销售商必须质押代币来获取流量，这意味着给他们添加了隐形的机会成本。<strong><em>R</em></strong>为带宽提供商的收益，<strong><em>B</em></strong>为带宽提供商的带宽支出，<strong><em>I</em></strong>为单位时间利率或机会成本，<strong><em>S</em></strong>为所需股本（质押的OXT代币），收益<strong><em>R</em></strong>可以推导如下：<br>$$<br>R=B+I_rS<br>$$<br>同时可得<strong><em>S</em></strong>：<br>$$<br>S=\frac{R-B}{I_r}<br>$$<br>股权质押的机会成本是一种间接费用，它的作用类似于工作量证明（PoW）中的算力成本。如果我们假设开销为50%，那么机会成本等于带宽成本。继续前边的例子：Orchid有100万用户，每个用户每年总共支付大约63美元，50%用于支付带宽费用。假设利率<strong><em>I</em></strong>为10%，如果攻击者要达到劫持50%流量的效果，所需要质押的股权价值3.15亿美元。比上节我们使用PoW勋章证明所得到的攻击代价（86,400美元）大了三个数量级。</p><p>现在考虑一下OXT股份租赁市场具有流动性的情况。首先，我们可以想象这样一个金融市场：借款人以另一种货币作为抵押，类似于空头头寸，但不限制资金的使用。这种类型的租赁市场不会改变<strong><em>S</em></strong>的攻击成本和绝对安全约束，但会导致相对安全约束的动态性不同，因为攻击者现在避免了OXT贬值带来的任何损失（因为OXT是租借的，最后只要返还给租借人相同数量的OXT即可）。</p><p>对攻击者来说，更有用的是一个直接出租股权保证金的市场，不需要抵押品。由于存款流动性差，用户可以把OXT租借给节点来获取利息（这样某些节点无需抵押便可获得大量OXT）。可以得到如下动态的安全约束方程：<br>$$<br>tI_rS&gt;V_{sabotage}<br>$$<br>在上式中，攻击成本为在攻击时间<strong><em>t</em></strong>内租借50%以上的股份所要付出的利息，联立上式，替换掉<strong><em>IS</em></strong>，可得：<br>$$<br>t(P-B)&gt;V_{sabotage}<br>$$<br>因此，最坏的情况是，在完全可租借的情况下，股权质押会导致类似于工作证明中完全可租借算力类似的安全性降低。</p><p>然而，提取延迟（withdrawal delay）限制了攻击时间的下界。还是使用之前的例子：100万用户每户每年支付63美元，50%用于支付宽带费用，提取延迟为3个月，计算可得攻击代价为790万美元，仍然比PoW的攻击成本大了几个数量级。</p><p>我们可以建议更大的提取延迟，但经济安全不可能随着撤资延迟而单调增加。延迟提取为诚实的带宽销售商增加了额外的机会成本，如果成本过高，就会排挤原本有竞争力的带宽销售商，从而导致实际利率和带宽成的提高，进而导致系统效率降低。提取延迟是一个可变参数，最终由市场决定（<em>译者注：前面章节提到过，在筛选节点的时候，用户可以自定义该参数进行节点筛选</em>）。</p><p>OXT是一种专业资产（个人资产），持有者没有动力将巨额股权出租给不知名、未经审查的实体。从这个意义上说，OXT的动态租用更可能类似于比特币ASICs的动态租用，其中可用于出租的算力只占总数的一小部分。白名单机制进一步确保了租赁市场的安全，如果股东将自己的股份出租给利益相关的实体，可能导致他们自己被从白名单中剔除。从本质上讲，这迫使退市的惩罚(由于延迟退市而产生)从运营商承租人转移到利益相关者承租人。</p><h4 id="燃烧加权（Burn-Weighting）"><a href="#燃烧加权（Burn-Weighting）" class="headerlink" title="燃烧加权（Burn-Weighting）"></a>燃烧加权（Burn-Weighting）</h4><p>我们还考虑了燃烧加权模型，其中股权质押被可证明已销毁的OXT代币所取代。燃烧加权实际上等价于我们的股份加权模型，它的提取延迟为无穷大。在这种情况下，股权质押被有效地销毁。因为所有的质押都会被销毁，那么攻击成本就是所质押的所有代币。</p><p>在股份加权中提出的随着提取延迟的增加，安全性不会单调增加，这同样适用于燃烧加权（因为燃烧加权的提取时间为无穷大）。随着延迟的增加，利益相关者在他们的资本存款上失去了可选性，因此将倾向于要求更高的有效利率来弥补这种损失。</p><p>由于燃烧加权已经是我们目前的股份加权设计的一种参数模式，我们可以在未来通过缓慢地增加提取延迟来转向燃烧加权模型。（<em>译者注：燃烧加权模型是股份加权模型的一个特例，在燃烧加权模型中你永远无法取回自己质押的股份，即提取时间为无穷大，随着股份加权模型中提取时间的增大，将会越来越趋近于燃烧加权</em>）。当然，对于拒绝涨价的客户来说，存在着分岔或市场细分的风险，但从理论上讲，这种改变是很有可能的，而且更容易通过对提取延迟进行参数化的决定来实现。（<em>译者注：如果带宽提供商几乎不能取回他们的质押，那么他们只能通过带宽涨价来弥补这一部分损失</em>）</p><h4 id="利息加权（Interest-Weighting）"><a href="#利息加权（Interest-Weighting）" class="headerlink" title="利息加权（Interest-Weighting）"></a>利息加权（Interest-Weighting）</h4><p>我们考虑的最后一种替代方法是用存款的实际利息或机会成本代替直接股权加权，作为加权条件。这一设计背后的动机是通过更直接地补偿股份锁定成本（与时间和质押量有关）来激励更广泛的提取延迟。（<em>译者注：通过提高锁定的收益率来促使大家打消股权质押的焦虑</em>）。利息加权中的加权项大概如下：<br>$$<br>(1-e^{-w_tI_r})S<br>$$<br><strong><em>w</em></strong>是与提取延迟相关的算子，<strong><em>I</em></strong>是一个全局的利息率，<strong><em>S</em></strong>是股权质押的大小。</p><p>在这种利率加权设计中，关键的设计参数<strong><em>I</em></strong> 应该设置得接近于OXT股权质押的实际市场利率或机会成本。如果利率项<strong><em>I</em></strong> 远远小于市场利率，那么参与者就会倾向于选取更大的（或无穷大）提现延迟，从而使得利率最高。系统就会退化为一种燃烧证明模式（Proof-of-burn）。如果<strong><em>I</em></strong>比市场利率大得多，那么参与者就会倾向于选择非常短的提取延迟，从而该系统便类似于带有短提取延迟的股票加权。</p><p>一次成功的系统性攻击将大幅降低OXT的价值，从而使得股权贬值，所以攻击者实际上为OXT带来了极高的利率或机会成本，因为他们认为OXT的价值将会崩溃。因此，假设利率接近市场利率，攻击者自然会选择很长时间的提取延迟，使得加权项几乎等于1，从而降低攻击成本。在这种情况下，大多数的市场参与者会选择一个合理的提取延迟，从而导致加权项远小于1，降低总的质押规模（相对与股权质押而言）。</p><p>考虑到这些安全问题，以及一些未知的动态机制将全球利率参数<strong><em>I</em></strong> 调整为市场均衡的额外复杂性，以及涉及指数和乘法的复杂加权函数的以太坊实现问题，我们决定不使用利息加权。</p><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>我们转向了股份加权设计，与我们之前的工作量证明（PoW）相比，股份加权具有以下优点：</p><ol><li>工作量证明（PoW）为用户增加了额外的计算负担</li><li>即使假设存在租赁市场，工作量证明的攻击成本也远远低于延迟股份加权</li><li>一般的计算租赁市场已经存在，其相对流动性远远超过我们预期的未来OXT股份存款租赁市场</li><li>风险加权计算了带宽销售商未来的折扣利润，从而创造了一个更大的基准代币市值。这个话题将会在下一节介绍。</li></ol><h3 id="4-5通证经济（Tokenomics）"><a href="#4-5通证经济（Tokenomics）" class="headerlink" title="4.5通证经济（Tokenomics）"></a>4.5通证经济（Tokenomics）</h3><p>相对于同行的代币系统所使用的竞争机制，股份加权具有独特的增值优势。在本节中，我们将简要地阐述和分析一些相关的经济假设，将其转化为一个简单的模型，并重点关注用户纳米支付和节点股权质押。我们假设这些类别之外的任何附加价值组件(例如ERC20令牌本身的短期高速周转)在其贡献中相对较小。</p><h4 id="市场规模（Market-Sizing）"><a href="#市场规模（Market-Sizing）" class="headerlink" title="市场规模（Market Sizing）"></a>市场规模（Market Sizing）</h4><p>我们将从这样一个场景开始，在这个场景中，Orchid有200万用户，他们平均每月支付5美元，或者每年支付系统总收入1.2亿美元。作为参考，全球VPN市场规模有望在2020年达到270亿美元。</p><h4 id="用户存款（User-Deposits）"><a href="#用户存款（User-Deposits）" class="headerlink" title="用户存款（User Deposits）"></a>用户存款（User Deposits）</h4><p>我们预计大多数用户将预先为他们的nanopayment帐户提供足够的OXT，以支付至少三个月的带宽，即价值15美元的OXT。VPN市场的标准支付模式为按月或按年的预付费，VPN用户已经习惯了这样的付费方式。</p><p>因此，在当前场景中（市场规模一节中提到的场景）用户存款的总价值为3000万美元。</p><h4 id="节点股权质押"><a href="#节点股权质押" class="headerlink" title="节点股权质押"></a>节点股权质押</h4><p>Orchid是一个竞争激烈的带宽市场，因此我们预计这个系统最终会发展成一个近似均衡的状态，总收入接近基本成本，包括带宽对供应商的原始成本和股权存款资本的利息或机会成本。请回忆4.4节中的公式：<br>$$<br>R=B+I_rS<br>$$</p><p>$$<br>S=\frac{R-B}{I_r}<br>$$</p><p><strong><em>R</em></strong>为总收益，<strong><em>B</em></strong>是带宽提供商的带宽成本，<strong><em>I</em></strong>是利率（机会成本），<strong><em>S</em></strong>是总的质押量。</p><p>现在有许多股权证明（PoS）的加密货币系统，持有者可以通过运行节点获得股权利息。每种代币系统的利率根据系统细节、感知的汇率风险等而变化很大。我们假设OXT股份的有效年利率(年利率)为20%，这在典型的回报率范围内。</p><p>带宽价格因地而异，但合理的中值估计是每兆带宽每月1美元，即一个月300GB流量，每GB 0.003美元。</p><blockquote><p>译者注：计算方式。1Mbps持续不断使用一个月产生的流量为：</p><p>（30×24×60×60×1Mb）÷ 8bit ÷ 1000 = 324GB 约等于 300GB</p></blockquote><p>我们将采用批发带宽价格 <code>0.01美元/ GB</code>。美国宽带家庭平均每月数据使用量为268GB，所以我们取每个客户月平均数据量为100GB。这意味着每个用户带宽的原始成本为1美元/月或12美元/年，而总带宽成本<strong><em>B</em></strong>为2400万美元/年 （<em>译者注：之前在市场规模部分假设为200万用户</em>） 。</p><p>公式计算可得节点股权质押的总价值约为4.8亿美元。</p><p>像比特币这样的加密货币主要被用作一种价值储存手段（<em>store of value</em>）。驱动Orchid的是在以太坊上实现的通用代币。通用代币可以被用于价值储存，并且Orchid的纳米支付系统（nanopayment）也可以在Orchid之外使用，我们希望可以通过这种方式使得价值最大化。现在有许多加密货币系统，其回报和年利率变化很大。这些代币的股份价值比率(总股本价值与市值之比)也有很大差异:Decred为50%，而NXT为15%。</p>]]></content>
      
      
      <categories>
          
          <category> 兰花协议 </category>
          
          <category> 白皮书 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Orchid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>兰花协议白皮书(2): 目标和限制</title>
      <link href="/2019/12/13/%E5%85%B0%E8%8A%B1%E5%8D%8F%E8%AE%AE%E7%99%BD%E7%9A%AE%E4%B9%A6-3-%E7%9B%AE%E6%A0%87%E5%92%8C%E9%99%90%E5%88%B6/"/>
      <url>/2019/12/13/%E5%85%B0%E8%8A%B1%E5%8D%8F%E8%AE%AE%E7%99%BD%E7%9A%AE%E4%B9%A6-3-%E7%9B%AE%E6%A0%87%E5%92%8C%E9%99%90%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/muzhix" target="_blank" rel="noopener">牧之</a>翻译<a href="https://github.com/muzhix" target="_blank" rel="noopener">https://github.com/muzhix</a></p><p>转载请注明出处<a href="https://hanbd.me/tags/Orchid/">https://hanbd.me/tags/Orchid/</a></p><p><a href="https://www.orchid.com/assets/whitepaper/whitepaper.pdf" target="_blank" rel="noopener">英文原版白皮书 PDF下载</a></p></blockquote><h2 id="3-目标和限制"><a href="#3-目标和限制" class="headerlink" title="3.目标和限制"></a>3.目标和限制</h2><p>Orchid的使命是帮助人们了解和控制自己电脑的网络活动，而不用担心受到审查、监视或中介的干扰。为了实现这一使命，我们正在使用开源软件为广大用户构建解决方案，以创建一个分散的VPN市场，该市场由以太坊区块链上的概率纳米支付提供动力。我们的设计强调可伸缩性、去中心化、可用性、简单性和可扩展性。Orchid继承了以太坊在匿名支付、可伸缩性和抗审查方面的一些局限性。此外，我们最初关注的是可承受的高带宽，低延迟路由目前限制了Orchid抵御最复杂的理论流量分析攻击的能力。这些限制对于我们主要设想的大量消费者用例来说并不是障碍(详见第6节)。</p><h3 id="3-1目标"><a href="#3-1目标" class="headerlink" title="3.1目标"></a>3.1目标</h3><h4 id="可伸缩性"><a href="#可伸缩性" class="headerlink" title="可伸缩性"></a>可伸缩性</h4><p>在当前的Ethereum区块链(第5.9节)上，Orchid 纳米级支付（Nanopayment）系统可以扩展到每秒发送一次概率事务的数百万用户，并且使用Ethereum 2.0分片可能扩展到每秒数十亿事务。节点选择过程(第4.3节)允许客户端以不可信的方式将节点选择外包给服务器节点，允许轻量级的Orchid客户端实现。</p><h4 id="去中心化"><a href="#去中心化" class="headerlink" title="去中心化"></a>去中心化</h4><p>我们设计的所有组件，从纳米级支付（Nanopayment）到节点目录和发现，都是去中心化的。以太坊用于执行一个功能性市场所需的最小合约。假设OXT分布良好，则在Orchid中不存在具有较大影响力或控制权的特殊受信任方。</p><h4 id="可用性"><a href="#可用性" class="headerlink" title="可用性"></a>可用性</h4><p>可用性是广泛采用的关键，系统为每个用户提供的匿名性随着用户基数的增大而增加。我们的默认客户端实现“正常工作”，不需要用户在配置或路由管理方面做出不必要的决定(尽管需要详细配置选项的用户也可以使用)。客户端还帮助自动化一些繁琐的细节，如预算编制和节点选择。对于大多数用户来说，使用Orchid来保护他们的网络连接几乎和按下按钮一样简单。</p><h4 id="简单性"><a href="#简单性" class="headerlink" title="简单性"></a>简单性</h4><p>该协议易于理解、实现和安全分析。我们使用卖家决定的带宽价格和客户价格过滤器，而不是更复杂的拍卖机制。随机支付协议也相对简单:智能合约由大约200行可靠代码组成。</p><h4 id="可扩展性"><a href="#可扩展性" class="headerlink" title="可扩展性"></a>可扩展性</h4><p>我们的核心机制是可分离和正交的，以使未来更容易扩展和替换。纳米协议和智能契约不直接与其他系统交互。节点目录同样与节点元数据注册中心和其他组件隔离。关键的系统设计参数，例如退出延迟，在可能的情况下可以作为契约参数，以便于适应。基于WebRTC的传输协议同样是正交的和可扩展的。纳米支付系统虽然是为Orchid带宽市场设计的，但它是通用的，具有更广泛的应用潜力。</p><h3 id="3-2限制"><a href="#3-2限制" class="headerlink" title="3.2限制"></a>3.2限制</h3><p>Orchid公司建立在以太坊的基础上，以太坊是世界上在智能合同能力、分权、社区规模和参与方面处于领先地位的区块链。因此，我们参与以太坊所固有的所有规模和安全问题，但也可以依靠扩展的以太坊社区的努力来处理可能出现的任何危机。</p><h4 id="网络依赖（Network-Dependence"><a href="#网络依赖（Network-Dependence" class="headerlink" title="网络依赖（Network Dependence)"></a>网络依赖（Network Dependence)</h4><p>兰花的经济安全(4.4节)受以太坊自身经济安全上限的限制。一个有能力破坏或摧毁以太网络的敌人自然可以摧毁Orchid。（而且，任何成功的对以太坊的关闭攻击实际上也会关闭兰花，即使这是无意的）。一个强大的对手可以通过发起持续51%的攻击来实现这一点，例如，可能通过DDOS和其他针对关键以太坊节点的攻击来增强。</p><p>Orchid服务器节点也依赖于单个级别的以太坊网络，因为它们需要与以太坊节点的可靠连接来处理获得的奖励。因此，兰花节点也容易受到以太坊eclipse攻击。在实践中，诸如Alchemy或Infura之类的商业以太节点操作符有助于减轻这些风险。</p><h4 id="用户扩展能力（User-Scalability）"><a href="#用户扩展能力（User-Scalability）" class="headerlink" title="用户扩展能力（User Scalability）"></a>用户扩展能力（User Scalability）</h4><p>当前的Orchid nanopayment系统在效率和差异之间进行了权衡:较大的面值票据减少了链上支付的频率和交易费用，而代价是差异。我们希望用户对差异具有有限的容忍。考虑到这些限制和以太坊当前每秒大约12个事务的最大事务吞吐量，意味着扩展限制为几百万个Orchid用户(第5.9节)。使用Ethereum 2.0切分可以扩展到超出此用户限制的范围。</p><h4 id="匿名支付（Payment-Anonymity）"><a href="#匿名支付（Payment-Anonymity）" class="headerlink" title="匿名支付（Payment Anonymity）"></a>匿名支付（Payment Anonymity）</h4><p>中奖纳米支付票据通过链上的以太坊交易兑换。因此，Orchid纳米支付只是伪匿名的，偶尔会泄露一些信息(第5.8节)。希望更强的匿名性的用户将需要匿名他们的OXT代币之前，把它装入一个纳米支付（nanopayment）帐户。</p><h4 id="公共节点目录（Public-Node-Directory）"><a href="#公共节点目录（Public-Node-Directory）" class="headerlink" title="公共节点目录（Public Node Directory）"></a>公共节点目录（Public Node Directory）</h4><p>兰花节点目录发布在以太坊上，因此向全世界公开。因此，审查对手很容易自动屏蔽所有列出的兰花节点的联系IP地址。第6.4节讨论了使用共享的私有IP地址等可能的解决方法。</p><h4 id="流量分析（Traffic-Analysis）"><a href="#流量分析（Traffic-Analysis）" class="headerlink" title="流量分析（Traffic Analysis）"></a>流量分析（Traffic Analysis）</h4><p>我们最初的重点是高带宽、低延迟连接，以牺牲强匿名性为代价。这个折衷是基本的，但是我们的设计允许用户能够通过带宽消耗来换取更高的匿名性。</p><h4 id="流量混淆（Traffic-Obfuscation）"><a href="#流量混淆（Traffic-Obfuscation）" class="headerlink" title="流量混淆（Traffic Obfuscation）"></a>流量混淆（Traffic Obfuscation）</h4><p>Orchid的网络层建立在WebRTC之上，WebRTC具有一定的初始混淆能力。然而，混淆和检测之间的研究正在进行军备竞赛（<em>译者注：矛与盾</em>）。将来我们会开发更强的混淆插件(第7部分)。</p>]]></content>
      
      
      <categories>
          
          <category> 兰花协议 </category>
          
          <category> 白皮书 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Orchid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>兰花协议白皮书(2): 背景</title>
      <link href="/2019/12/13/%E5%85%B0%E8%8A%B1%E5%8D%8F%E8%AE%AE%E7%99%BD%E7%9A%AE%E4%B9%A6-2-%E8%83%8C%E6%99%AF/"/>
      <url>/2019/12/13/%E5%85%B0%E8%8A%B1%E5%8D%8F%E8%AE%AE%E7%99%BD%E7%9A%AE%E4%B9%A6-2-%E8%83%8C%E6%99%AF/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/muzhix" target="_blank" rel="noopener">牧之</a>翻译<a href="https://github.com/muzhix" target="_blank" rel="noopener">https://github.com/muzhix</a></p><p>转载请注明出处<a href="https://hanbd.me/tags/Orchid/">https://hanbd.me/tags/Orchid/</a></p><p><a href="https://www.orchid.com/assets/whitepaper/whitepaper.pdf" target="_blank" rel="noopener">英文原版白皮书 PDF下载</a></p></blockquote><h2 id="2-背景"><a href="#2-背景" class="headerlink" title="2.背景"></a>2.背景</h2><p>长期以来，隐私一直是网络中的一个问题，尤其是随着越来越多的信息转移到网上，每天都有更多的漏洞暴露出来。我们的许多基本的计算机网络协议[和实践产生于1961年到1989年之间的高度信任的学术或业余文化，并且仍然在现代电话、笔记本电脑和台式机中使用。从根本上说，他们对经济学缺乏经验，也对经济学一无所知。默认操作就像一个邮件系统，里面全是机器打印的明信片，缺乏验证，在传送过程中可能会发生无法检测到的修改或替换。互联网服务提供商（ISP）往往是公共事业公司，他们与政府合作、操纵服务伤害用户并且不断降低底线。ISP一般不倾向于完全摧毁他们的数据传输服务（某些情况下例外），学者们当然也不认为他们设计协议的最初任务是使ISP破坏自愿的双边客户/服务器关系的可能最小化。</p><p>即使在非威权国家，有线电视公司、电话公司或专业公司也已开始游说有代表性的政府，将商业间谍活动合法化，并明确违反有关转发所有数据包的原始规范。自2014年以来，Facebook的受欢迎程度急剧下降(在2019年100家最受关注的组织中，Facebook排名第94位，略高于特朗普组织和美国政府本身)。用户可以简单的停止访问Facebook，并且已经在这么做了。相比之下，ISP服务于低粘度市场，6000万美国人面临着真正的宽带垄断。</p><p>虽然已经尝试加强流行的协议，但是很少有(可以说是零)完全安全的“先发后弃”协议。例如，SSH相对安全，被广泛使用的，但是流量分析攻击在2003就被发现了，并且直到2019年在实际代码中对问题进行修补是相当偶然的。</p><p>对大多数用户来说，通过不受信任的ISP路由器发送的未经加密的信息不是一个紧迫的问题，但许多人确实通过咖啡店、机场或酒店wifi访问网络。间谍活动、服务质量下降和价格欺诈在所有这些情况中都很常见，因为这些情况在小范围内重现了类似于ISP的激励机制。免费WIFI中可能存在错误配置，使得某些用户可以监视其他用户。在公众的印象中，所有这些挑战和更多的模糊在一起，形成了一种模糊的感觉，即整个互联网，尤其是通过wifi接入的互联网，充满了令人困惑和潜在危险的监视。</p><p>在企业界，虚拟专用网(VPN)技术开始被广泛采用，最初是作为一种允许员工(尤其是出差或远程办公的员工)从其他不受信任的网络创建到内网的一条加密通道。之所以叫虚拟专用网是因为VPN软件使人们“实际”上进入了他们安全的“专用网络”。它并没有完全解决协议加固的问题(流量的大小和时间往往不受保护)，但是通过这样的隧道发送经过加固和未加固的协议至少可以防止注入攻击和某些类型的推理攻击。</p><p>企业环境中VPN服务的兴起，基本上使相同的技术被重新利用(使用类似的隧道概念)，并提供给消费者市场。在这个新的生态系统中，没有雇主来履行本地可信权威的角色，从而导致技术人员、企业家和研究人员进行各种尝试，以探索各种解决方案，以获得更可靠的安全网络。消费者vpn在这一系列可能的解决方案中占据了一个小众市场，Tor占据了另一个，对Tor的改进尝试通常会因为奖励和支付(或缺少奖励和支付)所带来的挑战而失败。</p><h3 id="2-1消费者VPN"><a href="#2-1消费者VPN" class="headerlink" title="2.1消费者VPN"></a>2.1消费者VPN</h3><h3 id="2-2-Tor，洋葱路由"><a href="#2-2-Tor，洋葱路由" class="headerlink" title="2.2 Tor，洋葱路由"></a>2.2 Tor，洋葱路由</h3><h3 id="2-3-带用户激励的Tor"><a href="#2-3-带用户激励的Tor" class="headerlink" title="2.3 带用户激励的Tor"></a>2.3 带用户激励的Tor</h3><h3 id="2-4-支付通道支持路由"><a href="#2-4-支付通道支持路由" class="headerlink" title="2.4 支付通道支持路由"></a>2.4 支付通道支持路由</h3>]]></content>
      
      
      <categories>
          
          <category> 兰花协议 </category>
          
          <category> 白皮书 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Orchid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>兰花协议白皮书(1): 摘要</title>
      <link href="/2019/12/13/%E5%85%B0%E8%8A%B1%E5%8D%8F%E8%AE%AE%E7%99%BD%E7%9A%AE%E4%B9%A6-1-%E4%BB%8B%E7%BB%8D/"/>
      <url>/2019/12/13/%E5%85%B0%E8%8A%B1%E5%8D%8F%E8%AE%AE%E7%99%BD%E7%9A%AE%E4%B9%A6-1-%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/muzhix" target="_blank" rel="noopener">牧之</a>翻译<a href="https://github.com/muzhix" target="_blank" rel="noopener">https://github.com/muzhix</a></p><p>转载请注明出处<a href="https://hanbd.me/tags/Orchid/">https://hanbd.me/tags/Orchid/</a></p><p><a href="https://www.orchid.com/assets/whitepaper/whitepaper.pdf" target="_blank" rel="noopener">英文原版白皮书 PDF下载</a></p></blockquote><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>Orchid（兰花）：一个分散的市场匿名通信和虚拟专用网络。现有的隐私解决方案要么是不透明的商业服务，伴随着集中化风险，要么是免费的对等网络，缺乏对服务质量和经济安全的适当激励。Orchid是一个带宽市场，在这个市场中，节点提供商通过质押以太坊上的令牌<code>OXT</code>来提供服务。客户通过随机选择节点（节点的权重基于服务节点质押的<code>OXT</code>数量，用户可以基于价格、所在地等进行二次筛选）来构建单个或多个单跳洋葱路由线路。token质押使激励机制与经营者的渎职行为相一致，线性加权尤其能中和女巫攻击（<a href="https://baike.baidu.com/item/Sybil%20Attack/7567996?fr=aladdin" target="_blank" rel="noopener">Sybil Attack</a>）。Orchid使用了一种概率性的支付系统，它可以扩展到每秒数百万次的交易，这样就可以在没有可信的中心服务的情况下实现高流动性的带宽市场。分组规模的支付通过将交易者之间的隐式浮动平衡降低到极低的水平，从而允许高频的非信任交互。</p><h2 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.介绍"></a>1.介绍</h2><p>互联网曾经是一个自由开放的前沿阵地，如今却日益支离破碎、受到监视和审查。随着政府和企业越来越有效地监控、检查和屏蔽连接，对隐私和匿名工具(如VPN）的需求越来越强烈。虽然VPN在大多数情况中工作得足够好，但是它们在集中式的基于信任的模型中存在固有的弱点。由于政府的施压或额外收入的诱惑，用户很难保证他们的VPN提供商不会秘密地记录和共享数据。VPN重复出现的支付和定价模式产生了锁定效应，阻止用户在一个提供商受阻或速度变慢时，以低廉的价格快速切换提供商。当前的点对点系统，如<a href="https://baike.baidu.com/item/%E6%B4%8B%E8%91%B1%E8%B7%AF%E7%94%B1" target="_blank" rel="noopener">Tor</a>或<a href="https://baike.baidu.com/item/i2p" target="_blank" rel="noopener">I2P</a>，通过构造多跳路由来隐藏任何一方的路由信息。然而，这些系统是免费的，因此在性能和安全性方面都会受到影响。由于几乎没有激励并且免费带宽有限，Tor和I2P的网络的性能和质量受到不利影响。安全性同样受到影响，由于带宽有限，攻击者很容易通过低成本提供大带宽来截获流量。</p><p>我们需要的是一个具有适当经济激励和纳米级支付的点对点（peer to peer）隐私网络，允许客户从来自许多不同供应商的统一全球节点池中构建单一或多跳路由。一个开放的市场体系可以确保由利润驱动的卖方提供的带宽供应能够随着用户需求的增长而弹性地伸缩。使用加密货币合约机制可以为防止恶意行为提供必要的激励。</p><p>我们的设计面临几个核心挑战:<code>流量分析</code>（traffic analysis）、<code>女巫攻击</code>（<a href="https://baike.baidu.com/item/Sybil%20Attack/7567996?fr=aladdin" target="_blank" rel="noopener">Sybil Attack</a>）和<code>随机选择问题</code>（the random selection<br>problem）。在详细介绍Orchid之前，对这几种挑战进行简要描述。</p><h3 id="流量分析（Traffic-Analysis）"><a href="#流量分析（Traffic-Analysis）" class="headerlink" title="流量分析（Traffic Analysis）"></a>流量分析（Traffic Analysis）</h3><p>从理论上和实践上讲，在不向收件人以外的人泄露任何信息的情况下发送消息是相当困难的。在混合网络中，消息通过大量的代理节点进行路由，每一步都随机重新排序，并像信封一样分层加密。洋葱路由协议（<a href="https://baike.baidu.com/item/洋葱路由" target="_blank" rel="noopener">Onion routing</a>，被Tor采用）使用相同的分层加密概念，并为每个持久连接结合惟一的随机代理节点路径，而不是使用单个共享电路，以获得更大的可伸缩性。<code>流量分析</code>仍然是的一个潜在问题，可以通过带宽消耗(填充)和/或随机消息延迟来解决，但是这会显著降低性能。<code>共谋</code>（Collusion）是另一个严重的问题:如果电路中的其他节点都在合作，它们就可以推断出整个电路。</p><h3 id="女巫攻击（Sybil-Attack）"><a href="#女巫攻击（Sybil-Attack）" class="headerlink" title="女巫攻击（Sybil Attack）"></a>女巫攻击（<a href="https://baike.baidu.com/item/Sybil%20Attack/7567996?fr=aladdin" target="_blank" rel="noopener">Sybil Attack</a>）</h3><p>在任何开放的网络中，代理可以创建许多假身份，表现为大量的独立节点，而这些节点实际上都是相互勾结的。在保持开放性的同时防止单个攻击者击垮系统是很困难的。解决这个问题的一种方法是工作证明（Proof-of-work），起源于HashCash，后来被比特币采用，并在较早的Orchid 0.9.2中被提出用于Sybil防御。工作证明要求每个节点花费计算资源来证明它们的身份。因此，制造许多假身份将需要按比例增加成本支出。燃烧证明（Proof-of-Burn）在效果上是类似的，但只需要破坏加密货币的证据，其优点是燃烧的货币的价值被重新分配给货币利益相关者，而不是完全浪费。基于股权质押证明（Proof-of-stake）的加密货币要求用户以股权形式获得区块奖励并参与网络。Orchid使用一个股权（质押）加权系统来击败女巫攻击，并结合激励机制，提供关键的经济安全优势。</p><h3 id="随机选择（Random-Selection）"><a href="#随机选择（Random-Selection）" class="headerlink" title="随机选择（Random Selection）"></a>随机选择（Random Selection）</h3><p>为了构建低合谋概率的安全线路，我们需要从中继节点中随机选择不受Sybil攻击的节点。我们用线性加权随机选择来实现这一点（即Sybil-Orthogonal ），攻击者将他们的代币分割成多份质押并不能获得优势（<em>译者注：每一个节点都需要代币质押，质押的越多，权重越高。代币分散质押到多个节点质押，则每个分散节点的权重都会降低</em>）。这种选择方案还提供了一种简单而有效的负载平衡方法，并且即使在最小的单跳电路(不太可能产生合谋)的情况下也有一些细微的额外好处。实现全局随机选择策略需要客户端（用户）具有节点元数据的全局列表。较早的Orchid 0.9.2提出了一个定制的分布式哈希表（DHT，Distributed Hash Table）来解决这个问题。为了简单起见，我们现在直接使用Ethereum区块链（以及它的底层DHT）来提供全局节点注册表。</p><h3 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h3><p>Orchid是一个分布式平台，客户可以利用一个新的随机纳米级支付系统来进行支付，从而实现具有多种潜在用途的高性能洋葱路由电路。带宽提供者运行Orchid服务端软件并在以太坊合约中质押OXT（Orchid代币）代币来获得流量和收益，收益与质押代币金额正相关。客户端通过股权加权随机选择来寻找节点，我们将其实现为一个智能契约函数，使用树型数据结构。然后，客户使用每秒发送一次的概率性纳米级支付向节点付款。多跳路由可以使用一个帐户每跳或间接洋葱支付转发从而减少支付过程中的信息泄漏。电路可能因为技术或经济原因而失败(例如，当电路特定成本超过用户当前预算时)，并且在失败时简单地重新采样。我们的设计的核心机制非常简单，但是细节是很重要的。</p>]]></content>
      
      
      <categories>
          
          <category> 兰花协议 </category>
          
          <category> 白皮书 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Orchid </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
